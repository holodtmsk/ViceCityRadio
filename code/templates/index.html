<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Game Interface</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="profile">
            <div class="avatar">NN</div>
            <div class="name">name_name</div>
            <div class="balance">$1,100,000,000</div>
            <div class="tickets">
                üéüÔ∏è 23
            </div>
        </div>
        
        <div class="slot-game">
            <span class="slot-game-text">SLOT GAME</span>
            <img src="{{ url_for('static', filename='images/slot_machine.png') }}" alt="Slot Machine" class="icon">
            <button class="play-button">PLAY</button>
    <div class="container">
        <button id="farming-button" class="start-button">Start Farming</button>
    </div>

    <div class="navigation-bar">
        <div class="nav-item">
            <img src="{{ url_for('static', filename='images/home_icon.png') }}" alt="Home" class="nav-icon">
            <span>Home</span>
        </div>
        <div class="nav-item">
            <img src="{{ url_for('static', filename='images/frens_icon.png') }}" alt="Frens" class="nav-icon">
            <span>Frens</span>
        </div>
        <div class="nav-item">
            <img src="{{ url_for('static', filename='images/wallet_icon.png') }}" alt="Wallet" class="nav-icon">
            <span>Wallet</span>
        </div>
    </div>

    <script>
        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∑—É–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('touchmove', function(event) {
            if (event.scale !== 1) {
                event.preventDefault();
            }
        }, { passive: false });

        // –û—Ç–∫–ª—é—á–∞–µ–º –¥–≤–æ–π–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –¥–ª—è –∑—É–º–∏—Ä–æ–≤–∞–Ω–∏—è
        var lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            var now = new Date().getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const farmingButton = document.getElementById('farming-button');

        let farmingInProgress = false;

        farmingButton.addEventListener('click', function () {
            if (farmingInProgress) return;

            farmingInProgress = true;
            farmingButton.classList.add('farming');
            farmingButton.innerHTML = 'üéü Farming goods... <span class="countdown">60</span>';

            let timeLeft = 60;
            const countdownInterval = setInterval(() => {
                timeLeft--;
                farmingButton.querySelector('.countdown').textContent = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    farmingInProgress = false;
                    farmingButton.classList.remove('farming');
                    farmingButton.classList.add('collect');
                    farmingButton.textContent = 'Collect reward';
                }
            }, 1000);
        });
    });
</script>

</body>
</html>
